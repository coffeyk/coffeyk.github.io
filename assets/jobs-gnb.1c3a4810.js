(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1294:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n(10),r=n(1293),s=n(0),a=n.n(s),i=n(1285),c=n(1248),l=n(38);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.a.Component{render(){const{targets:e,notes:t,data:n,onGoto:r,headerTitle:s}=this.props;return a.a.createElement(i.a,{compact:!0,unstackable:!0,celled:!0},a.a.createElement(i.a.Header,null,a.a.createElement(i.a.Row,null,a.a.createElement(i.a.HeaderCell,{collapsing:!0},a.a.createElement("strong",null,a.a.createElement(o.Trans,{id:"core.ui.rotation-table.header.time"}))),(e||[]).map((e,t)=>a.a.createElement(i.a.HeaderCell,{key:"target_header_".concat(t),textAlign:"center",collapsing:!0},a.a.createElement("strong",null,e.header))),a.a.createElement(i.a.HeaderCell,null,a.a.createElement("strong",null,s||a.a.createElement(o.Trans,{id:"core.ui.rotation-table.header.rotation"}))),(t||[]).map((e,t)=>a.a.createElement(i.a.HeaderCell,{key:"note_header_".concat(t),textAlign:"center",collapsing:!0},a.a.createElement("strong",null,e.header))))),a.a.createElement(i.a.Body,null,n.map(n=>a.a.createElement(h.Row,u({key:n.start,onGoto:r,targets:e||[],notes:t||[]},n)))))}}h.targetAccessorResolver=(e,t)=>"string"==typeof t.accessor&&null!=e.targetsData?e.targetsData[t.accessor]:"function"==typeof t.accessor?t.accessor(e):{actual:0,expected:0},h.notesAccessorResolver=(e,t)=>"string"==typeof t.accessor&&null!=e.notesMap?e.notesMap[t.accessor]:"function"==typeof t.accessor?t.accessor(e):null,h.TargetCell=e=>{let{actual:t,expected:n}=e;return a.a.createElement(i.a.Cell,{textAlign:"center",positive:void 0!==n&&t>=n,negative:void 0!==n&&t<n},t,"/",void 0===n?"-":n)},h.Row=e=>{let{onGoto:t,targets:n,notes:o,notesMap:s,start:d,end:m,targetsData:b,rotation:p}=e;return a.a.createElement(i.a.Row,null,a.a.createElement(i.a.Cell,{textAlign:"center"},a.a.createElement("span",{style:{marginRight:5}},Object(l.d)(d/1e3)),"function"==typeof t&&a.a.createElement(c.a,{circular:!0,compact:!0,size:"mini",icon:"time",onClick:()=>t(d,m)})),n.map(e=>h.targetAccessorResolver({start:d,end:m,targetsData:b,rotation:p},e)).map((e,t)=>a.a.createElement(h.TargetCell,u({key:"target_".concat(t)},e))),a.a.createElement(i.a.Cell,null,a.a.createElement(r.a,{events:p})),o.map(e=>h.notesAccessorResolver({start:d,end:m,targetsData:b,notesMap:s,rotation:p},e)).map((e,t)=>a.a.createElement(i.a.Cell,{key:"notes_".concat(t),textAlign:"center"},e)))}},1295:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var o=n(223),r=n.n(o),s=n(45),a=n.n(s),i=n(16),c=n.n(i),l=n(374),d=n.n(l),u=n(22),m=n(61),h=n(0),b=n.n(h);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends u.c{constructor(){super(...arguments),this._cooldownGroups={},this._currentAction=null,this._cooldowns={},this._groups={},this._cooldownGroups=d()(this.data.actions,"cooldownGroup"),this._buildGroups(this.constructor.cooldownOrder),this.addHook("begincast",{by:"player"},this._onBeginCast),this.addHook("cast",{by:"player"},this._onCast),this.addHook("complete",this._onComplete)}_buildGroups(e){if(!e)return;return e.map((t,n)=>{const o=-(e.length-n);if("number"==typeof t){const e=this.data.getAction(t);return this._buildGroup({id:t,content:e&&e.name,order:o}),t}const r=this._buildGroup({id:t.name,content:t.name,order:o});return t.merge?t.actions.forEach(e=>{this._groups[e]=r}):r.nestedGroups=this._buildGroups(t.actions),t.name})}_buildGroup(e){const t=new m.c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({showNested:!1},e));return this.timeline.addGroup(t),this._groups[e.id]=t,t}_onBeginCast(e){const t=this.data.getAction(e.ability.guid);t&&null!=t.cooldown&&(this._currentAction=t,this.startCooldown(t.id),c()(t.cooldownGroup)||this.startCooldownGroup(t.id,t.cooldownGroup))}_onCast(e){const t=this.data.getAction(e.ability.guid);if(!t||null==t.cooldown)return;const n=this._currentAction&&this._currentAction.id===t.id;this._currentAction=null,n||(this.startCooldown(t.id),c()(t.cooldownGroup)||this.startCooldownGroup(t.id,t.cooldownGroup))}_onComplete(){Object.keys(this._cooldowns).forEach(e=>{this._addToTimeline(parseInt(e,10))})}_addToTimeline(e){const t=this._cooldowns[e];if(!t)return!1;t.current&&(t.history.push(t.current),t.current=null);const n=this.data.getAction(e);return!(!n||n.onGcd)&&(this._groups[e]||this._buildGroup({id:e,content:n.name,order:e}),t.history.forEach(t=>{t.shared||this._groups[e].addItem(new m.b({type:"background",start:t.timestamp-this.parser.fight.start_time,length:t.length,content:b.a.createElement("img",{src:n.icon,alt:n.name})}))}),!0)}getCooldown(e){return this._cooldowns[e]||{current:null,history:[]}}startCooldownGroup(e,t){a()(this._cooldownGroups,t,[]).map(e=>e.id).filter(t=>t!==e).forEach(e=>this.startCooldown(e,!0))}startCooldown(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.data.getAction(e);if(!n)return;const o=this.getCooldown(e);if(o.current){const t=this.parser.currentTimestamp-this.parser.fight.start_time;o.current.timestamp<this.parser.fight.start_time&&o.current.length>t?this.resetCooldown(e):o.history.push(o.current)}o.current={timestamp:this.parser.currentTimestamp,length:1e3*n.cooldown,shared:t,invulnTime:0},this._cooldowns[e]=o}reduceCooldown(e,t){const n=this.getCooldown(e),o=this.parser.currentTimestamp;n.current&&n.current.timestamp+n.current.length<o&&(n.history.push(n.current),n.current=null),null!==n.current&&(n.current.length-=1e3*t,n.current.timestamp+n.current.length<o&&this.resetCooldown(e))}setInvulnTime(e){const t=this.getCooldown(e);let n=this.parser.fight.start_time,o={},r=!0;for(const e of t.history)r&&(n=e.timestamp+e.length,r=!1,o=e),o.invulnTime=this.downtime.getDowntime(n,e.timestamp),n=e.timestamp+e.length,o=e}resetCooldown(e){const t=this.getCooldown(e);null!==t.current&&(t.current.length=this.parser.currentTimestamp-t.current.timestamp,t.history.push(t.current),t.current=null)}getCooldownRemaining(e){const t=this.getCooldown(e).current;return t?t.length-(this.parser.currentTimestamp-t.timestamp):0}getTimeOnCooldown(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=this.getCooldown(e),r=this.parser.currentTimestamp;return t?this.setInvulnTime(e):o.history.map(e=>{e.invulnTime=0}),o.history.reduce((e,t)=>e+this.getAdjustedTimeOnCooldown(t,r,n),o.current?this.getAdjustedTimeOnCooldown(o.current,r,n):0)}getAdjustedTimeOnCooldown(e,t,n){const o=t-e.timestamp,s=e.length+e.invulnTime+n;return r()(o,0,s)}get used(){return Object.keys(this._cooldowns)}}O.handle="cooldowns",O.dependencies=["data","downtime","timeline"],O.cooldownOrder=[]},1296:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(129),r=n.n(o),s=n(0),a=n.n(s),i=n(377);const c={aspectRatio:3,scales:{xAxes:[{type:"time",time:{displayFormats:{minute:"m:ss",second:"m:ss",millisecond:"m:ss.SS"},tooltipFormat:"mm:ss.SSS"}}]}};class l extends s.PureComponent{render(){const e=r()({},c,this.props.options||{});return a.a.createElement(i.a,{data:this.props.data,options:e,width:e.aspectRatio,height:1})}}},1298:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var o=n(376),r=n.n(o),s=n(373),a=n.n(s),i=n(2),c=n(10),l=n(1294),d=n(22),u=n(220),m=n(1291),h=n(61),b=n(0),p=n.n(b),g=n(222);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=2.5,f=15e3,w={uncomboed:p.a.createElement(c.Trans,{id:"core.combos.issuetypenames.uncomboed"}),combobreak:p.a.createElement(c.Trans,{id:"core.combos.issuetypenames.combobreak"}),failedcombo:p.a.createElement(c.Trans,{id:"core.combos.issuetypenames.failed"})};class C extends d.c{constructor(){super(...arguments),this.lastGcdTime=this.parser.fight.start_time,this.currentComboChain=[],this.issues=[]}init(){this.addHook("aoedamage",{by:"player"},this.onCast),this.addHook("complete",this.onComplete)}get lastComboEvent(){return a()(this.currentComboChain)||null}get lastAction(){const e=this.lastComboEvent;return e?e.ability.guid:null}get comboBreakers(){return this.issues.filter(e=>"combobreak"===e.type).map(e=>e.event)}get uncomboedGcds(){return this.issues.filter(e=>"uncomboed"===e.type).map(e=>e.event)}fabricateComboEvent(e){const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{type:"combo"});delete t.timestamp,this.parser.fabricateEvent(t)}recordBrokenCombo(e,t){this.isAllowableComboBreak(e,t)||this.issues.push({type:"combobreak",event:e,context:t}),this.currentComboChain=[]}recordUncomboedGcd(e){this.issues.push({type:"uncomboed",event:e,context:[]}),this.currentComboChain=[]}recordFailedCombo(e,t){this.issues.push({type:"failedcombo",event:e,context:t}),this.currentComboChain=[]}checkCombo(e,t){if(null==this.lastAction){if(e.start)return this.fabricateComboEvent(t),!0;if(e.from)return this.recordUncomboedGcd(t),!1}if(e.start)return this.recordBrokenCombo(t,this.currentComboChain),!0;if(e.from){if((Array.isArray(e.from)?e.from:[e.from]).includes(this.lastAction))return this.fabricateComboEvent(t),!e.end}return this.recordBrokenCombo(t,this.currentComboChain),!1}onCast(e){const t=this.data.getAction(e.ability.guid);if(t){if(t.onGcd&&(t.combo||t.breaksCombo)&&(e.timestamp-this.lastGcdTime>f&&(this.currentComboChain=[]),this.lastGcdTime=e.timestamp),t.combo){if(!e.successfulHit)return void this.recordFailedCombo(e,this.currentComboChain);this.checkCombo(t.combo,e)?this.currentComboChain.push(e):this.currentComboChain=[]}t.breaksCombo&&null!==this.lastAction&&this.recordBrokenCombo(e,this.currentComboChain)}}onComplete(){this.addJobSpecificSuggestions(this.comboBreakers,this.uncomboedGcds)||this.suggestions.add(new m.c({icon:this.constructor.suggestionIcon,content:p.a.createElement(c.Trans,{id:"core.combos.content",components:[p.a.createElement("p",null),p.a.createElement("p",null)]}),tiers:{1:m.a.MINOR,2:m.a.MEDIUM,4:m.a.MAJOR},value:this.issues.length,why:p.a.createElement(c.Trans,{id:"core.combos.why",values:{0:this.issues.length}})}))}addJobSpecificSuggestions(e,t){return!1}isAllowableComboBreak(e,t){return!1}output(){if(this.issues.length<=0)return!1;const e=this.parser.fight.start_time,t=this.issues.sort((e,t)=>e.event.timestamp-t.event.timestamp).map(t=>{var n,o;const s=[...t.context||[],t.event],i=r()(s),c=a()(s),l=this.data.getAction(i.ability.guid),d=this.data.getAction(c.ability.guid);return{start:i.timestamp-e+(null!==(n=null==l?void 0:l.cooldown)&&void 0!==n?n:E),end:c.timestamp-e+(null!==(o=null==d?void 0:d.cooldown)&&void 0!==o?o:E),rotation:s,notesMap:{reason:p.a.createElement("span",{style:{whiteSpace:"nowrap"}},w[t.type])}}});return p.a.createElement(l.a,{notes:[{header:p.a.createElement(c.Trans,{id:"core.combos.rotationtable.header.reason"}),accessor:"reason"}],data:t,onGoto:this.timeline.show})}}C.handle="combos",C.title={id:"core.combos.title",defaults:"Combo Issues"},C.displayOrder=u.a.COMBOS,C.suggestionIcon="https://xivapi.com/i/000000/000405.png",Object(i.b)([d.d,Object(i.d)("design:type",g.a)],C.prototype,"data",void 0),Object(i.b)([d.d,Object(i.d)("design:type",m.d)],C.prototype,"suggestions",void 0),Object(i.b)([d.d,Object(i.d)("design:type",h.d)],C.prototype,"timeline",void 0)},1476:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n(10),s=n(128),a=n.n(s),i=n(0),c=n.n(i),l=n(1455),d=n(19),u=n(1296),m=n(9),h=n(14),b=n(22),p=n(1292),g=n(1291);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={[m.b.BLOODFEST.id]:2},w={[m.b.SOLID_BARREL.id]:1,[m.b.DEMON_SLAUGHTER.id]:1},C={[m.b.GNASHING_FANG.id]:1,[m.b.BURST_STRIKE.id]:1,[m.b.FATED_CIRCLE.id]:1},_={1:g.a.MINOR,2:g.a.MEDIUM,4:g.a.MAJOR},A=2;class G extends b.c{constructor(){super(...arguments),this.ammo=0,this.ammoHistory=[],this.wasteBySource={[m.b.SOLID_BARREL.id]:0,[m.b.DEMON_SLAUGHTER.id]:0,[m.b.BLOODFEST.id]:0,[m.b.RAISE.id]:0},this.leftoverAmmo=0,this.totalGeneratedAmmo=0,this.erroneousCircles=0}init(){this.addHook("init",this.pushToHistory),this.addHook("cast",{by:"player",abilityId:Object.keys(f).map(Number)},this.onCastGenerator),this.addHook("combo",{by:"player",abilityId:Object.keys(w).map(Number)},this.onComboGenerator),this.addHook("cast",{by:"player",abilityId:Object.keys(C).map(Number)},this.onSpender),this.addHook("aoedamage",{by:"player",abilityId:m.b.FATED_CIRCLE.id},this.onFatedCircle),this.addHook("death",{to:"player"},this.onDeath),this.addHook("complete",this.onComplete)}onFatedCircle(e){e.hasOwnProperty("hits")&&e.hits.length<2&&this.erroneousCircles++}onCastGenerator(e){const t=e.ability.guid,n=f[t];this.addGeneratedAmmoAndPush(n,t)}onComboGenerator(e){const t=e.ability.guid,n=w[t];this.addGeneratedAmmoAndPush(n,t)}addGeneratedAmmoAndPush(e,t){if(this.ammo+=e,this.totalGeneratedAmmo+=e,this.ammo>A){const e=this.ammo-A;this.wasteBySource[t]+=e,this.ammo=A}this.pushToHistory()}onSpender(e){this.ammo=this.ammo-C[e.ability.guid],this.pushToHistory()}onDeath(){this.wasteBySource[m.b.RAISE.id]+=this.ammo,this.dumpRemainingResources()}dumpRemainingResources(){this.leftoverAmmo=this.ammo,this.ammo=0,this.pushToHistory()}pushToHistory(){const e=this.parser.currentTimestamp-this.parser.fight.start_time;this.ammoHistory.push({t:e,y:this.ammo})}onComplete(){this.dumpRemainingResources();const e=Object.keys(this.wasteBySource).map(Number).filter(e=>e!==m.b.RAISE.id).reduce((e,t)=>e+this.wasteBySource[t],0)+this.leftoverAmmo;this.suggestions.add(new g.c({icon:m.b.FATED_CIRCLE.icon,content:c.a.createElement(r.Trans,{id:"gnb.ammo.single-target-circle.content",components:[c.a.createElement(d.a,y({},m.b.FATED_CIRCLE))]}),why:c.a.createElement(r.Trans,{id:"gnb.ammo.single-target-circle.why",values:{0:this.erroneousCircles},components:[c.a.createElement(d.a,y({},m.b.FATED_CIRCLE))]}),tiers:_,value:this.erroneousCircles})),this.checklist.add(new p.b({name:"Cartridge Usage",description:c.a.createElement(r.Trans,{id:"gnb.ammo.waste.content",components:[c.a.createElement(d.a,y({},m.b.BURST_STRIKE)),c.a.createElement(d.a,y({},m.b.FATED_CIRCLE))]}),requirements:[new p.a({name:c.a.createElement(r.Trans,{id:"gnb.ammo.checklist.requirement.waste.name"}),value:this.totalGeneratedAmmo-e,target:this.totalGeneratedAmmo})]}))}convertWasteMapToTable(){const e=[this.convertWasteEntryToRow(m.b.SOLID_BARREL),this.convertWasteEntryToRow(m.b.DEMON_SLAUGHTER),this.convertWasteEntryToRow(m.b.BLOODFEST),this.convertWasteEntryToRow(m.b.RAISE)];return c.a.createElement(i.Fragment,{key:"wasteBySource-fragment"},c.a.createElement("table",{key:"wasteBySource-table"},c.a.createElement("tbody",{key:"wasteBySource-tbody"},e)))}convertWasteEntryToRow(e){let t=e.name;return e===m.b.RAISE&&(t="Death"),c.a.createElement("tr",{key:e.id+"-row",style:{margin:0,padding:0}},c.a.createElement("td",{key:e.id+"-name"},c.a.createElement(d.a,y({name:t},e))),c.a.createElement("td",{key:e.id+"-value"},this.wasteBySource[e.id]))}output(){const e=[];e.push({key:"key-wastebysource",title:{key:"title-wastebysource",content:c.a.createElement(r.Trans,{id:"gnb.ammo.waste.by-source.key"})},content:{key:"content-wastebysource",content:this.convertWasteMapToTable()}});const t=a()(h.b.GUNBREAKER.colour),n={datasets:[{label:"Cartridges",steppedLine:!0,data:this.ammoHistory,backgroundColor:t.fade(.8),borderColor:t.fade(.5)}]};return c.a.createElement(i.Fragment,null,c.a.createElement(u.a,{data:n,options:{scales:{yAxes:[{ticks:{beginAtZero:!0,min:0,max:2,callback:e=>{if(e%1==0)return e}}}]}}}),c.a.createElement(l.a,{exclusive:!1,panels:e,styled:!0,fluid:!0}))}}G.handle="ammo",G.title={id:"gnb.ammo.title",defaults:"Cartridge Timeline"},G.displayMode=b.a.FULL,Object(o.b)([b.d,Object(o.d)("design:type",p.e)],G.prototype,"checklist",void 0),Object(o.b)([b.d,Object(o.d)("design:type",g.d)],G.prototype,"suggestions",void 0);var v=n(1298);class R extends v.a{}R.suggestionIcon=m.b.BRUTAL_SHELL.icon;var T=n(54);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k=[m.b.JUGULAR_RIP.id,m.b.ABDOMEN_TEAR.id,m.b.EYE_GOUGE.id],D=[T.b.READY_TO_RIP.id,T.b.READY_TO_TEAR.id,T.b.READY_TO_GOUGE.id];class I extends b.c{constructor(){super(...arguments),this.buffs=0,this.actions=0}init(){this.addHook("cast",{by:"player",abilityId:k},()=>this.actions++),this.addHook("applybuff",{by:"player",abilityId:D},()=>this.buffs++),this.addHook("complete",this.onComplete)}onComplete(){this.checklist.add(new p.b({name:"Use a Continuation once per action in the Gnashing Fang combo",description:c.a.createElement(r.Trans,{id:"gnb.continuation.checklist.description",components:[c.a.createElement(d.a,N({},m.b.CONTINUATION)),c.a.createElement(d.a,N({},m.b.GNASHING_FANG))]}),requirements:[new p.a({name:c.a.createElement(r.Trans,{id:"gnb.continuation.checklist.requirement.continuation.name",components:[c.a.createElement(d.a,N({},m.b.CONTINUATION)),c.a.createElement(d.a,N({},m.b.GNASHING_FANG))]}),value:this.actions,target:this.buffs})]}))}}I.handle="continuation",Object(o.b)([b.d,Object(o.d)("design:type",p.e)],I.prototype,"checklist",void 0);var B=n(1295);class P extends B.a{}P.cooldownOrder=[m.b.ROYAL_GUARD.id,m.b.NO_MERCY.id,m.b.BLOODFEST.id,m.b.JUGULAR_RIP.id,m.b.ABDOMEN_TEAR.id,m.b.EYE_GOUGE.id,m.b.DANGER_ZONE.id,m.b.BLASTING_ZONE.id,m.b.BOW_SHOCK.id,m.b.ROUGH_DIVIDE.id,m.b.SUPERBOLIDE.id,m.b.CAMOUFLAGE.id,m.b.NEBULA.id,m.b.RAMPART.id,m.b.HEART_OF_LIGHT.id,m.b.HEART_OF_STONE.id,m.b.AURORA.id,m.b.REPRISAL.id,m.b.PROVOKE.id,m.b.SHIRK.id,m.b.INTERJECT.id,m.b.LOW_BLOW.id,m.b.ARMS_LENGTH.id];var M=n(373),H=n.n(M),L=n(1294),U=n(61),x=n(41);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z={MISSING_EXPECTED_USES:{1:g.a.MINOR,4:g.a.MEDIUM,8:g.a.MAJOR},TOO_FEW_GCDS:{1:g.a.MINOR,2:g.a.MEDIUM,4:g.a.MAJOR}},Y={GNASHING_FANG:1,SONIC_BREAK:1,ROUGH_DIVIDE:1,BLASTING_ZONE:1,BOW_SHOCK:1,GCD:9},J=2e4;class V{constructor(e){this.rotation=[],this.isRushing=!1,this.numGcds=0,this.numBlastingZones=0,this.numSonicBreaks=0,this.numRoughDivides=0,this.numGnashingFangs=0,this.numBowShocks=0,this.start=e}}class q extends b.c{constructor(){super(...arguments),this.noMercyWindows=[]}get lastNoMercy(){return H()(this.noMercyWindows)}init(){this.addHook("cast",{by:"player"},this.onCast),this.addHook("removebuff",{by:"player",to:"player",abilityId:[T.b.NO_MERCY.id]},this.onRemoveNoMercy),this.addHook("complete",this.onComplete)}onCast(e){const t=e.ability.guid;if(t===m.b.ATTACK.id)return;if(t===m.b.NO_MERCY.id){const t=new V(e.timestamp),n=this.parser.fight.end_time-e.timestamp;t.isRushing=J>=n,this.noMercyWindows.push(t)}const n=this.lastNoMercy;if(null!=n&&null==n.end){n.rotation.push(e);const o=Object(x.a)(m.b,"id",t);if(!o)return;switch(o.onGcd&&n.numGcds++,t){case m.b.BLASTING_ZONE.id:case m.b.DANGER_ZONE.id:n.numBlastingZones++;break;case m.b.SONIC_BREAK.id:n.numSonicBreaks++;break;case m.b.ROUGH_DIVIDE.id:n.numRoughDivides++;break;case m.b.GNASHING_FANG.id:n.numGnashingFangs++;break;case m.b.BOW_SHOCK.id:n.numBowShocks++}}}onRemoveNoMercy(e){const t=this.lastNoMercy;null!=t&&(t.end=e.timestamp)}onComplete(){const e=this.noMercyWindows.filter(e=>!e.isRushing).reduce((e,t)=>e+Math.max(0,Y.GCD-t.numGcds),0),t=this.noMercyWindows.reduce((e,t)=>e+Math.max(0,Y.BLASTING_ZONE-t.numBlastingZones),0)+this.noMercyWindows.reduce((e,t)=>e+Math.max(0,Y.SONIC_BREAK-t.numSonicBreaks),0)+this.noMercyWindows.reduce((e,t)=>e+Math.max(0,Y.ROUGH_DIVIDE-t.numRoughDivides),0)+this.noMercyWindows.reduce((e,t)=>e+Math.max(0,Y.GNASHING_FANG-t.numGnashingFangs),0)+this.noMercyWindows.reduce((e,t)=>e+Math.max(0,Y.BOW_SHOCK-t.numBowShocks),0);this.suggestions.add(new g.c({icon:m.b.NO_MERCY.icon,content:c.a.createElement(r.Trans,{id:"gnb.nomercy.suggestions.gcds.content",components:[c.a.createElement(d.a,W({},m.b.NO_MERCY))]}),why:c.a.createElement(r.Trans,{id:"gnb.nomercy.suggestions.gcds.why",values:{missedGcds:e},components:[c.a.createElement(d.d,W({},T.b.NO_MERCY))]}),tiers:Z.TOO_FEW_GCDS,value:e})),this.suggestions.add(new g.c({icon:m.b.BLASTING_ZONE.icon,content:c.a.createElement(r.Trans,{id:"gnb.nomercy.suggestions.expected-uses.content",components:[c.a.createElement(d.a,W({},m.b.NO_MERCY)),c.a.createElement(d.a,W({},m.b.SONIC_BREAK)),c.a.createElement(d.a,W({},m.b.GNASHING_FANG)),c.a.createElement(d.a,W({},m.b.BLASTING_ZONE)),c.a.createElement(d.a,W({},m.b.BOW_SHOCK)),c.a.createElement(d.a,W({},m.b.ROUGH_DIVIDE))]}),why:c.a.createElement(r.Trans,{id:"gnb.nomercy.suggestions.expected-uses.why",values:{sumMissingExpectedUses:t},components:[c.a.createElement(d.d,W({},T.b.NO_MERCY))]}),tiers:Z.MISSING_EXPECTED_USES,value:t}))}output(){return c.a.createElement(L.a,{targets:[{header:c.a.createElement(r.Trans,{id:"gnb.nomercy.table.header.gcds"}),accessor:"gcds"},{header:c.a.createElement(d.a,W({showName:!1},m.b.BLASTING_ZONE)),accessor:"blastingZone"},{header:c.a.createElement(d.a,W({showName:!1},m.b.SONIC_BREAK)),accessor:"sonicBreak"},{header:c.a.createElement(d.a,W({showName:!1},m.b.ROUGH_DIVIDE)),accessor:"roughDivide"},{header:c.a.createElement(d.a,W({showName:!1},m.b.BOW_SHOCK)),accessor:"bowShock"},{header:c.a.createElement(d.a,W({showName:!1},m.b.GNASHING_FANG)),accessor:"gnashingFang"}],data:this.noMercyWindows.map(e=>({start:e.start-this.parser.fight.start_time,end:null!=e.end?e.end-this.parser.fight.start_time:e.start-this.parser.fight.start_time,targetsData:{gcds:{actual:e.numGcds,expected:Y.GCD},blastingZone:{actual:e.numBlastingZones,expected:Y.BLASTING_ZONE},sonicBreak:{actual:e.numSonicBreaks,expected:Y.BOW_SHOCK},roughDivide:{actual:e.numRoughDivides,expected:Y.ROUGH_DIVIDE},bowShock:{actual:e.numBowShocks,expected:Y.BOW_SHOCK},gnashingFang:{actual:e.numGnashingFangs,expected:Y.GNASHING_FANG}},rotation:e.rotation})),onGoto:this.timeline.show})}}q.handle="nomercy",q.title={id:"gnb.nomercy.title",defaults:"No Mercy Windows"},Object(o.b)([b.d,Object(o.d)("design:type",g.d)],q.prototype,"suggestions",void 0),Object(o.b)([b.d,Object(o.d)("design:type",U.d)],q.prototype,"timeline",void 0);var X=n(1303);const z=1e4,Q=22e3;class $ extends X.a{constructor(){super(...arguments),this.firstUseOffsetPerOgcd={[m.b.NO_MERCY.id]:z,[m.b.BLOODFEST.id]:Q},this.trackedCds=[{cooldowns:[m.b.NO_MERCY],firstUseOffset:1e4},{cooldowns:[m.b.BLOODFEST],firstUseOffset:22e3},{cooldowns:[m.b.BLASTING_ZONE]},{cooldowns:[m.b.ROUGH_DIVIDE]},{cooldowns:[m.b.BOW_SHOCK]}]}}t.default=[G,R,I,P,q,$]}}]);
//# sourceMappingURL=jobs-gnb.1c3a4810.js.map