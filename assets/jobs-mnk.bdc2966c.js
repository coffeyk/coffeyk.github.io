(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1296:function(e,t,s){"use strict";s.d(t,"a",(function(){return O}));var i=s(8),n=s(0),a=s.n(n),r=s(1476),o=s(1289),c=s(52),d=s(23),l=s(1287),h=s(37);function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const u=2,m={0:2,1:1,2.5:0},g={1:l.a.MEDIUM,5:l.a.MAJOR};class O extends d.c{constructor(){super(...arguments),this._weaves=[],this._ongoingCastEvent=null,this._leadingGcdEvent=null,this._trailingGcdEvent=null,this._badWeaves=[],this.addHook("begincast",{by:"player"},this._onBeginCast),this.addHook("cast",{by:"player"},this._onCast),this.addHook("complete",this._onComplete)}_onBeginCast(e){this._ongoingCastEvent=e}_onCast(e){const t=this.data.getAction(e.ability.guid);t&&!t.autoAttack&&(this.isOgcd(t)?this._weaves.push(e):(this._ongoingCastEvent&&this._ongoingCastEvent.ability.guid===t.id?this._trailingGcdEvent=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(Object(s),!0).forEach((function(t){p(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{timestamp:this._ongoingCastEvent.timestamp}):this._trailingGcdEvent=e,this._ongoingCastEvent=null,this._saveIfBad(),this._leadingGcdEvent=this._trailingGcdEvent,this._weaves=[]))}_onComplete(){this._leadingGcdEvent&&this._saveIfBad();const e=this._badWeaves;this.suggestions.add(new l.c({icon:"https://xivapi.com/i/001000/001785.png",content:a.a.createElement(i.Trans,{id:"core.weaving.content",components:[a.a.createElement("a",{href:"javascript:void(0);",onClick:()=>this.parser.scrollTo(this.constructor.handle)}),a.a.createElement(c.a,{message:this.constructor.title})]}),why:a.a.createElement(i.Trans,{id:"core.weaving.why",values:{0:e.length}}),tiers:g,value:e.length}))}_saveIfBad(){const e=this._leadingGcdEvent||{timestamp:this.parser.fight.start_time},t=this._trailingGcdEvent.timestamp-e.timestamp-this.invuln.getUntargetableUptime("all",e.timestamp,this._trailingGcdEvent.timestamp),s={leadingGcdEvent:e,trailingGcdEvent:this._trailingGcdEvent,gcdTimeDiff:t,weaves:this._weaves};0!==s.weaves.length&&this.isBadWeave(s)&&this._badWeaves.push(s)}isOgcd(e){return!e.onGcd&&!e.autoAttack}isBadWeave(e,t){const s=e.weaves.filter(e=>!this.invuln.isUntargetable("all",e.timestamp)).length;if(!t)if(e.leadingGcdEvent.ability){const s=this.castTime.forEvent(e.leadingGcdEvent),i=Object(h.i)(m,s);t=void 0!==i?i:u}else t=u;const i=this.speedmod.get(this.parser.timestamp),n=this.gcd.getEstimate()*i;return e.gcdTimeDiff>n&&s>t}output(){const e=this._badWeaves;if(0===e.length)return!1;const t=e.map(e=>({key:e.leadingGcdEvent.timestamp,title:{content:a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",null,this.parser.formatTimestamp(e.leadingGcdEvent.timestamp))," - ",a.a.createElement(i.Trans,{id:"core.weaving.panel-count",values:{0:e.weaves.length}})," (",this.parser.formatDuration(e.gcdTimeDiff)," ",a.a.createElement(i.Trans,{id:"core.weaving.between-gcds"}),")")},content:{content:a.a.createElement(o.a,{events:[...e.leadingGcdEvent.ability?[e.leadingGcdEvent]:[],...e.weaves]})}}));return a.a.createElement(r.a,{exclusive:!1,panels:t,styled:!0,fluid:!0})}}O.handle="weaving",O.dependencies=["castTime","data","gcd","invuln","speedmod","suggestions"],O.title={id:"core.weaving.title",defaults:"Weaving Issues"}},1310:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s(23);const n=12e4;class a extends i.c{constructor(){super(...arguments),this._lastApplication={},this._clip={},this._statusDuration={},this.constructor.statusesToTrack.forEach(e=>{const t=this.data.getStatus(e);t&&(t.hasOwnProperty("duration")?this._statusDuration[e]=1e3*t.duration:(console.warn("statusId ".concat(e," is missing a duration property")),this._statusDuration[e]=n))}),this.addHook(["applydebuff","refreshdebuff"],{by:"player",abilityId:this.constructor.statusesToTrack},this._onDotApply),this.addHook("complete",this._onComplete)}excludeApplication(){return!1}addChecklistRules(){}addClippingSuggestions(e){}_onDotApply(e){const t=e.ability.guid,s="".concat(e.targetID,"|").concat(e.targetInstance),i=this._lastApplication[s]=this._lastApplication[s]||{};if(!i[t]||this.excludeApplication())return void(i[t]=e.timestamp);let n=this._statusDuration[t]-(e.timestamp-i[t]);n-=this.invuln.getUntargetableUptime("all",e.timestamp-this._statusDuration[t],e.timestamp),n-=this.invuln.getInvulnerableUptime("all",e.timestamp,e.timestamp+this._statusDuration[t]+n),this._clip[t]=(this._clip[t]||0)+Math.max(0,n),i[t]=e.timestamp}_onComplete(){this.addChecklistRules(),this.addClippingSuggestions(this._clip)}getUptimePercent(e){return this.enemies.getStatusUptime(e)/(this.parser.fightDuration-this.invuln.getInvulnerableUptime())*100}getClippingAmount(e){const t=this.parser.fightDuration-this.invuln.getInvulnerableUptime();return Math.round(60*this._clip[e]/t)}}a.handle="dots",a.dependencies=["data","enemies","invuln"],a.statusesToTrack=[]},1319:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var i=s(2),n=s(8),a=s(17),r=s(23),o=s(1287),c=s(0),d=s.n(c),l=s(1472);function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){p(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class u extends r.c{constructor(){super(...arguments),this.severity={1:o.a.MINOR,4:o.a.MEDIUM,7:o.a.MAJOR},this.suggestionContent=d.a.createElement(n.Trans,{id:"core.aoeusages.suggestion.content"}),this.badUsages=new Map}init(){this.addHook("aoedamage",{by:"player",abilityId:this.trackedAbilities.map(e=>e.aoeAbility.id)},this.onAbility),this.addHook("complete",this.onComplete)}adjustMinTargets(e,t){return t}onAbility(e){const t=this.trackedAbilities.find(t=>t.aoeAbility.id===e.ability.guid);if(void 0===t)return;const s=this.adjustMinTargets(e,t.minTargets);e.successfulHit&&e.hits.length<s&&this.badUsages.set(e.ability.guid,(this.badUsages.get(e.ability.guid)||0)+1)}onComplete(){const e=Array.from(this.badUsages.values()).reduce((e,t)=>e+t,0);this.suggestions.add(new o.c({icon:this.suggestionIcon,content:this.suggestionContent,tiers:this.severity,value:e,why:d.a.createElement(n.Trans,{id:"core.aoeusages.suggestion.why",values:{totalBadUsages:e}})}))}output(){if(0!==this.badUsages.size)return d.a.createElement(d.a.Fragment,null,d.a.createElement(l.a,{collapsing:!0,unstackable:!0},d.a.createElement(l.a.Header,null,d.a.createElement(l.a.Row,null,d.a.createElement(l.a.HeaderCell,null,d.a.createElement(n.Trans,{id:"core.aoeusages.aoe-ability"})),d.a.createElement(l.a.HeaderCell,null,d.a.createElement(n.Trans,{id:"core.aoeusages.st-alternative"})),d.a.createElement(l.a.HeaderCell,null,d.a.createElement(n.Trans,{id:"core.aoeusages.number-bad-usages"})))),d.a.createElement(l.a.Body,null,this.trackedAbilities.filter(e=>this.badUsages.has(e.aoeAbility.id)).map(e=>d.a.createElement(l.a.Row,{key:e.aoeAbility.id},d.a.createElement(l.a.Cell,null,d.a.createElement(a.a,b({},e.aoeAbility))),d.a.createElement(l.a.Cell,null,e.stAbilities.map(e=>d.a.createElement(a.a,b({},e)))),d.a.createElement(l.a.Cell,null,this.badUsages.get(e.aoeAbility.id)))))))}}u.handle="aoeusages",u.title={id:"core.aoeusages.title",defaults:"Incorrect AoE Ability Usage"},Object(i.b)([r.d,Object(i.d)("design:type",o.d)],u.prototype,"suggestions",void 0)},1457:function(e,t,s){"use strict";s.r(t);var i=s(10),n=s(1292);class a extends n.a{}a.cooldownOrder=[{name:"Fists",merge:!0,actions:[i.b.FISTS_OF_FIRE.id,i.b.FISTS_OF_WIND.id,i.b.FISTS_OF_EARTH.id]},{name:"Chakras",merge:!1,actions:[i.b.THE_FORBIDDEN_CHAKRA.id,i.b.ENLIGHTENMENT.id]},i.b.ANATMAN.id,i.b.PERFECT_BALANCE.id,i.b.RIDDLE_OF_FIRE.id,i.b.BROTHERHOOD.id,i.b.ELIXIR_FIELD.id,i.b.SHOULDER_TACKLE.id,i.b.TORNADO_KICK.id,i.b.RIDDLE_OF_EARTH.id,i.b.MANTRA.id];var r=s(2),o=s(8),c=s(0),d=s.n(c),l=s(17),h=s(61),b=s(23),p=s(1288),u=s(1310),m=s(1287),g={GREASED_LIGHTNING:1,RIDDLE_OF_FIRE:2,PERFECT_BALANCE:3,FISTS:4,DRAGON_KICK:5,TWIN_SNAKES:6,DEMOLISH:7};function O(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?O(Object(s),!0).forEach((function(t){y(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function y(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const f={CLIPPING:{7:m.a.MINOR,10:m.a.MEDIUM,12:m.a.MAJOR}};class _ extends u.a{addChecklistRules(){this.checklist.add(new p.b({name:d.a.createElement(o.Trans,{id:"mnk.demolish.checklist.name"}),description:d.a.createElement(o.Trans,{id:"mnk.demolish.checklist.description",components:[d.a.createElement(l.a,E({},i.b.DEMOLISH))]}),displayOrder:g.DEMOLISH,requirements:[new p.a({name:d.a.createElement(o.Trans,{id:"mnk.demolish.checklist.requirement.name",components:[d.a.createElement(l.a,E({},i.b.DEMOLISH))]}),percent:()=>this.getUptimePercent(h.b.DEMOLISH.id)})],target:85}))}addClippingSuggestions(e){this.suggestions.add(new m.c({icon:i.b.DEMOLISH.icon,content:d.a.createElement(o.Trans,{id:"mnk.demolish.suggestion.content",components:[d.a.createElement(l.a,E({},i.b.DEMOLISH)),d.a.createElement(l.d,E({},h.b.GREASED_LIGHTNING))]}),tiers:f.CLIPPING,value:this.getClippingAmount(h.b.DEMOLISH.id),why:d.a.createElement(o.Trans,{id:"mnk.demolish.suggestion.why",values:{0:this.parser.formatDuration(e[h.b.DEMOLISH.id])}})}))}}_.handle="demolish",_.statusesToTrack=[h.b.DEMOLISH.id],Object(r.b)([b.d,Object(r.d)("design:type",p.e)],_.prototype,"checklist",void 0),Object(r.b)([b.d,Object(r.d)("design:type",m.d)],_.prototype,"suggestions",void 0);var I=s(314),T=s.n(I),S=s(47),v=s(14),F=s(1291),R=s(369),D=s(1334),w=s(1314);function k(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function A(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?k(Object(s),!0).forEach((function(t){j(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function j(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const N=1e4,C=15e3,P=[h.b.OPO_OPO_FORM.id,h.b.RAPTOR_FORM.id,h.b.COEURL_FORM.id],H=[i.b.BOOTSHINE.id,i.b.DRAGON_KICK.id,i.b.ARM_OF_THE_DESTROYER.id];class M extends b.c{constructor(){super(...arguments),this.formless=0,this.resetForms=0,this.skippedForms=0,this.droppedForms=0}init(){this.addHook("cast",{by:"player"},this.onCast),this.addHook("applybuff",{to:"player",abilityId:P},this.onGain),this.addHook("refreshbuff",{to:"player",abilityId:P},this.onGain),this.addHook("removebuff",{to:"player",abilityId:P},this.onRemove),this.addHook("complete",this.onComplete)}onCast(e){const t=Object(S.a)(i.b,"id",e.ability.guid);if(!t)return;const s=this.parser.patch.before("5.05")?N:C;if(t.onGcd){const n=P.find(e=>this.combatants.selected.hasStatus(e))||0,a=void 0!==this.lastFormChanged?this.downtime.getDowntime(this.lastFormChanged,e.timestamp):0;if(t===i.b.FORM_SHIFT.id)return void(0===a&&this.skippedForms++);switch(n){case h.b.OPO_OPO_FORM.id:break;case h.b.RAPTOR_FORM.id:case h.b.COEURL_FORM.id:H.includes(t)&&this.resetForms++;break;default:H.includes(t)&&this.formless++,0===a&&this.lastFormDropped&&this.lastFormChanged&&this.lastFormDropped-this.lastFormChanged>s&&this.droppedForms++}}}onGain(e){this.lastFormChanged=e.timestamp}onRemove(e){this.lastFormDropped=e.timestamp}onComplete(){this.suggestions.add(new m.c({icon:i.b.FORM_SHIFT.icon,content:d.a.createElement(o.Trans,{id:"mnk.forms.suggestions.formless.content",components:[d.a.createElement(l.a,A({},i.b.DRAGON_KICK)),d.a.createElement(l.d,A({},h.b.OPO_OPO_FORM)),d.a.createElement(l.a,A({},i.b.BOOTSHINE))]}),tiers:{1:m.a.MINOR,2:m.a.MEDIUM},value:this.formless,why:d.a.createElement(o.Trans,{id:"mnk.forms.suggestions.formless.why",values:{0:this.formless}})})),this.resetForms>=1&&this.suggestions.add(new m.b({icon:i.b.FORM_SHIFT.icon,severity:m.a.MEDIUM,content:d.a.createElement(o.Trans,{id:"mnk.forms.suggestions.reset.content",components:[d.a.createElement(l.a,A({},i.b.BOOTSHINE)),d.a.createElement(l.a,A({},i.b.DRAGON_KICK)),d.a.createElement(l.a,A({},i.b.ARM_OF_THE_DESTROYER))]}),why:d.a.createElement(o.Trans,{id:"mnk.forms.suggestions.reset.why",values:{0:this.resetForms}})})),this.skippedForms>=1&&this.suggestions.add(new m.b({icon:i.b.FORM_SHIFT.icon,severity:m.a.MEDIUM,content:d.a.createElement(o.Trans,{id:"mnk.forms.suggestions.skipped.content",components:[d.a.createElement(l.d,A({},h.b.GREASED_LIGHTNING))]}),why:d.a.createElement(o.Trans,{id:"mnk.forms.suggestions.skipped.why",values:{0:this.skippedForms}})})),this.droppedForms>=1&&this.suggestions.add(new m.b({icon:i.b.FORM_SHIFT.icon,severity:m.a.MAJOR,content:d.a.createElement(o.Trans,{id:"mnk.forms.suggestions.dropped.content"}),why:d.a.createElement(o.Trans,{id:"mnk.forms.suggestions.dropped.why",values:{0:this.droppedForms}})}))}}M.handle="forms",Object(r.b)([b.d,Object(r.d)("design:type",F.a)],M.prototype,"combatants",void 0),Object(r.b)([b.d,Object(r.d)("design:type",w.a)],M.prototype,"downtime",void 0),Object(r.b)([b.d,Object(r.d)("design:type",m.d)],M.prototype,"suggestions",void 0);const L=3,G=4,U=[i.b.DEMOLISH.id,i.b.ROCKBREAKER.id,i.b.SNAP_PUNCH.id],K=[i.b.FORM_SHIFT.id,i.b.SIX_SIDED_STAR.id],W=1e3*h.b.GREASED_LIGHTNING.duration;class B extends D.b{constructor(){super(...arguments),this._stacks=this.add(new D.a({maximum:L,chart:{label:"Stacks",color:v.b.MONK.colour}})),this._timer=this.add(new D.c({maximum:W,chart:{label:"Duration",color:v.b.PALADIN.colour},onExpiration:()=>this._stacks.reset()}))}init(){super.init(),this.addHook("applybuff",{to:"player",abilityId:h.b.FISTS_OF_WIND.id},this.goFast),this.addHook("removebuff",{to:"player",abilityId:h.b.FISTS_OF_WIND.id},this.slowDown),this.addHook("cast",{by:"player",abilityId:U},this.onGain),this.addHook("cast",{by:"player",abilityId:K},this.onRefresh),this.addHook("applybuff",{to:"player",abilityId:h.b.EARTHS_REPLY.id},this.onRefresh),this.addHook("cast",{by:"player",abilityId:i.b.TORNADO_KICK.id},this.onDrop),this.addHook("refreshbuff",{by:"player",abilityId:P},this.onFleek),this.addHook("applybuff",{to:"player",abilityId:h.b.ANATMAN.id},this.becomeAntman),this.addHook("removebuff",{to:"player",abilityId:h.b.ANATMAN.id},this.becomeMortal)}get stacks(){return this._stacks.value}get timer(){return this._timer.remaining}getStacksAt(e){return this._stacks.getValueAt(e)}goFast(){this._stacks.setMaximum(G)}slowDown(){this._stacks.setMaximum(L)}onGain(){this._stacks.modify(1),this._timer.start()}onRefresh(e){(e.ability.guid!==i.b.FORM_SHIFT.id||this.combatants.selected.hasStatus(h.b.COEURL_FORM.id))&&this._timer.refresh()}onDrop(){this._stacks.reset(),this._timer.reset()}onFleek(){this.combatants.selected.hasStatus(h.b.ANATMAN.id)&&(this._stacks.modify(1),this._timer.set(W,!0))}becomeAntman(){this._timer.pause()}becomeMortal(){this._timer.resume()}}function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function J(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(Object(s),!0).forEach((function(t){Y(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Y(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}B.handle="greasedLightning",B.title={id:"mnk.gauge.title",defaults:"Greased Lightning"},B.displayOrder=g.GREASED_LIGHTNING,Object(r.b)([b.d,Object(r.d)("design:type",F.a)],B.prototype,"combatants",void 0);const X=0,q=[h.b.FISTS_OF_EARTH.id,h.b.FISTS_OF_FIRE.id,h.b.FISTS_OF_WIND.id],z={[X]:"#888",[h.b.FISTS_OF_EARTH.id]:v.b.MONK.colour,[h.b.FISTS_OF_FIRE.id]:v.b.WARRIOR.colour,[h.b.FISTS_OF_WIND.id]:v.b.PALADIN.colour},V={FISTLESS:{1:m.a.MEDIUM,3:m.a.MAJOR},FISTS_OF_FIRE:{8:m.a.MINOR,9:m.a.MEDIUM,10:m.a.MAJOR},FISTS_OF_EARTH:{2:m.a.MEDIUM,3:m.a.MAJOR},FISTS_OF_WIND:{1:m.a.MEDIUM,6:m.a.MAJOR}};class Q{constructor(e,t){this.id=X,this.start=0,this.gcdCounter=0,this.id=e,this.start=t}}class Z extends b.c{constructor(){super(...arguments),this.fistory=[],this.foulWinds=0,this.activeFist=new Q(X,this.parser.fight.start_time)}init(){this.addHook("cast",{by:"player"},this.onCast),this.addHook("applybuff",{to:"player",abilityId:q},this.onGain),this.addHook("removebuff",{to:"player",abilityId:q},this.onRemove),this.addHook("complete",this.onComplete)}getFist(e){return this.fistory.filter(t=>t.start<=e&&(void 0===t.end||t.end>=e))[0]}getActiveFist(){return this.activeFist}handleFistChange(e){this.parser.currentTimestamp<=this.parser.fight.start_time?this.activeFist=new Q(e,this.parser.currentTimestamp):(this.activeFist.id!==e&&(this.activeFist.end=this.parser.currentTimestamp),this.fistory.push(this.activeFist),this.activeFist=new Q(e,this.parser.currentTimestamp))}onCast(e){const t=Object(S.a)(i.b,"id",e.ability.guid);t&&t.onGcd&&([i.b.MEDITATION.id,i.b.FORM_SHIFT.id].includes(t.id)||this.activeFist.gcdCounter++)}onGain(e){if(!Object(S.a)(h.b,"id",e.ability.guid))return;if(this.handleFistChange(e.ability.guid),e.ability.guid!==h.b.FISTS_OF_WIND.id)return;const t=this.combatants.selected.hasStatus(h.b.COEURL_FORM.id);(this.gauge.stacks<L||this.gauge.stacks===L&&!t)&&this.foulWinds++}onRemove(e){this.activeFist.id===e.ability.guid&&this.handleFistChange(X)}onComplete(){this.fistory.push(J({},this.activeFist,{end:this.parser.fight.end_time})),this.suggestions.add(new m.c({icon:i.b.FISTS_OF_FIRE.icon,content:d.a.createElement(o.Trans,{id:"mnk.fists.suggestions.stanceless.content",components:[d.a.createElement(l.a,J({},i.b.FISTS_OF_FIRE)),d.a.createElement(l.d,J({},h.b.GREASED_LIGHTNING)),d.a.createElement(l.a,J({},i.b.FISTS_OF_EARTH)),d.a.createElement(l.a,J({},i.b.FISTS_OF_WIND))]}),why:d.a.createElement(o.Trans,{id:"mnk.fists.suggestions.stanceless.why",values:{0:this.getFistGCDCount(X)}}),tiers:V.FISTLESS,value:this.getFistGCDCount(X)})),this.suggestions.add(new m.c({icon:i.b.FISTS_OF_EARTH.icon,content:d.a.createElement(o.Trans,{id:"mnk.fists.suggestions.foe.content",components:[d.a.createElement(l.a,J({},i.b.RIDDLE_OF_EARTH)),d.a.createElement(l.d,J({},h.b.FISTS_OF_WIND))]}),tiers:V.FISTS_OF_EARTH,why:d.a.createElement(o.Trans,{id:"mnk.fists.suggestions.foe.why",values:{0:this.getFistGCDCount(h.b.FISTS_OF_EARTH.id)},components:[d.a.createElement(l.d,J({},h.b.FISTS_OF_EARTH))]}),value:this.getFistGCDCount(h.b.FISTS_OF_EARTH.id)})),this.suggestions.add(new m.c({icon:i.b.FISTS_OF_WIND.icon,content:d.a.createElement(o.Trans,{id:"mnk.fists.suggestions.fow.content",values:{MAX_STACKS:L,MAX_FASTER:G},components:[d.a.createElement(l.d,J({},h.b.FISTS_OF_WIND)),d.a.createElement(l.d,J({},h.b.COEURL_FORM)),d.a.createElement(l.d,J({},h.b.FISTS_OF_FIRE))]}),why:d.a.createElement(o.Trans,{id:"mnk.fists.suggestions.fow.why",values:{0:this.foulWinds},components:[d.a.createElement(l.d,J({},h.b.FISTS_OF_WIND))]}),tiers:V.FISTS_OF_WIND,value:this.foulWinds}));const e=T()(this.fistory.map(e=>e.id)).map(e=>{const t=this.fistory.filter(t=>t.id===e).reduce((e,t)=>e+(t.end||this.parser.fight.end_time)-t.start,0);return{value:t,color:z[e],columns:[this.getFistName(e),this.parser.formatDuration(t),this.getFistUptimePercent(e)+"%"]}}).filter(e=>e.value>0);this.statistics.add(new R.a({headings:["Fist","Uptime","%"],data:e}))}getFistGCDCount(e){return this.fistory.filter(t=>t.id===e).reduce((e,t)=>e+t.gcdCounter,0)}getFistUptimePercent(e){return(this.combatants.getStatusUptime(e)/this.parser.fightDuration*100).toFixed(2)}getFistName(e){if(e===X)return"Fistless";return Object(S.a)(h.b,"id",e).name}}Z.handle="fists",Z.title={id:"mnk.fists.title",defaults:"Fists"},Z.displayOrder=g.FISTS,Object(r.b)([b.d,Object(r.d)("design:type",F.a)],Z.prototype,"combatants",void 0),Object(r.b)([b.d,Object(r.d)("design:type",B)],Z.prototype,"gauge",void 0),Object(r.b)([b.d,Object(r.d)("design:type",R.c)],Z.prototype,"statistics",void 0),Object(r.b)([b.d,Object(r.d)("design:type",m.d)],Z.prototype,"suggestions",void 0);var $=s(1319);class ee extends $.a{constructor(){super(...arguments),this.suggestionIcon=i.b.ENLIGHTENMENT.icon,this.trackedAbilities=[{aoeAbility:i.b.ARM_OF_THE_DESTROYER,stAbilities:[i.b.BOOTSHINE,i.b.DRAGON_KICK],minTargets:3},{aoeAbility:i.b.FOUR_POINT_FURY,stAbilities:[i.b.TRUE_STRIKE,i.b.TWIN_SNAKES],minTargets:2},{aoeAbility:i.b.ROCKBREAKER,stAbilities:[i.b.DEMOLISH,i.b.SNAP_PUNCH],minTargets:2},{aoeAbility:i.b.ENLIGHTENMENT,stAbilities:[i.b.THE_FORBIDDEN_CHAKRA],minTargets:2}]}adjustMinTargets(e,t){const s=Object(S.a)(i.b,"id",e.ability.guid);return s&&s.id===i.b.ARM_OF_THE_DESTROYER&&this.combatants.selected.hasStatus(h.b.LEADEN_FIST.id)?t+1:t}}ee.handle="mnkaoe",Object(r.b)([b.d,Object(r.d)("design:type",F.a)],ee.prototype,"combatants",void 0);var te=s(1300);const se=4850;class ie extends te.a{constructor(){super(...arguments),this.defaultAllowedAverageDowntime=se,this.trackedCds=[{cooldowns:[i.b.BROTHERHOOD]},{cooldowns:[i.b.ELIXIR_FIELD]},{cooldowns:[i.b.PERFECT_BALANCE]},{cooldowns:[i.b.RIDDLE_OF_FIRE]},{cooldowns:[i.b.SHOULDER_TACKLE]}]}}var ne=s(1305);function ae(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function re(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(s),!0).forEach((function(t){oe(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ae(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function oe(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class ce extends ne.a{constructor(){super(...arguments),this.buffAction=i.b.PERFECT_BALANCE,this.buffStatus=h.b.PERFECT_BALANCE,this.expectedGCDs={expectedPerWindow:5,suggestionContent:d.a.createElement(o.Trans,{id:"mnk.pb.suggestions.missedgcd.content",components:[d.a.createElement(l.a,re({},i.b.PERFECT_BALANCE))]}),severityTiers:{1:m.a.MINOR,2:m.a.MEDIUM,3:m.a.MAJOR}},this.trackedBadActions={icon:i.b.PERFECT_BALANCE.icon,actions:[{action:i.b.FORM_SHIFT,expectedPerWindow:0},{action:i.b.MEDITATION,expectedPerWindow:0}],suggestionContent:d.a.createElement(o.Trans,{id:"mnk.pb.suggestions.trackedBadActions.content",components:[d.a.createElement(l.a,re({},i.b.FORM_SHIFT)),d.a.createElement(l.a,re({},i.b.MEDITATION)),d.a.createElement(l.a,re({},i.b.PERFECT_BALANCE))]}),severityTiers:{1:m.a.MEDIUM}}}changeExpectedGCDsClassLogic(e){return e.getActionCountByIds(q)>0?0:this.gauge.getStacksAt(e.start)<G?0:1}}function de(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function le(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?de(Object(s),!0).forEach((function(t){he(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):de(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function he(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}ce.handle="perfectBalance",ce.title={id:"mnk.pb.title",defaults:"Perfect Balance"},ce.displayOrder=g.PERFECT_BALANCE,Object(r.b)([b.d,Object(r.d)("design:type",B)],ce.prototype,"gauge",void 0);class be{constructor(e){this.clean=!1,this.start=e}}class pe extends b.c{constructor(){super(...arguments),this.history=[]}init(){this.addHook("applybuff",{to:"player",abilityId:h.b.RIDDLE_OF_EARTH.id},this.onGain),this.addHook("applybuff",{to:"player",abilityId:h.b.EARTHS_REPLY.id},this.onReply),this.addHook("removebuff",{to:"player",abilityId:h.b.RIDDLE_OF_EARTH.id},this.onDrop),this.addHook("complete",this.onComplete)}onGain(e){this.riddle=new be(e.timestamp)}onReply(e){this.riddle&&(this.riddle.clean=!0)}onDrop(e){this.stopAndSave(e.timestamp)}onComplete(){this.riddle&&this.stopAndSave();const e=this.history.filter(e=>!e.clean).length;this.suggestions.add(new m.c({icon:i.b.RIDDLE_OF_EARTH.icon,content:d.a.createElement(o.Trans,{id:"mnk.roe.suggestions.missed.content",components:[d.a.createElement(l.a,le({},i.b.RIDDLE_OF_EARTH))]}),tiers:{1:m.a.MINOR},value:e,why:d.a.createElement(o.Trans,{id:"mnk.roe.suggestions.missed.why",values:{missedEarth:e},components:[d.a.createElement(l.a,le({},i.b.RIDDLE_OF_EARTH)),d.a.createElement(l.d,le({},h.b.EARTHS_REPLY))]})}))}stopAndSave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parser.currentTimestamp;this.riddle&&(this.history.push(le({},this.riddle,{end:e})),this.riddle=void 0)}}pe.handle="riddleOfEarth",Object(r.b)([b.d,Object(r.d)("design:type",m.d)],pe.prototype,"suggestions",void 0);var ue=s(1290),me=s(63);function ge(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Oe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(s),!0).forEach((function(t){Ee(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ge(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Ee(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ye=1e3*h.b.RIDDLE_OF_FIRE.duration,fe=11,_e=1,Ie=1,Te={1:m.a.MINOR,3:m.a.MEDIUM,5:m.a.MAJOR};class Se{constructor(e){this.active=!1,this.rushing=!1,this.gcdsInEachFist={[X]:0,[h.b.FISTS_OF_EARTH.id]:0,[h.b.FISTS_OF_FIRE.id]:0,[h.b.FISTS_OF_WIND.id]:0},this.expectedGcds=fe,this.start=e,this.casts=[]}get gcds(){return this.casts.filter(e=>{const t=Object(S.a)(i.b,"id",e.ability.guid);return t&&t.onGcd}).length}get elixirFields(){return this.casts.filter(e=>e.ability.guid===i.b.ELIXIR_FIELD.id).length}get tackles(){return this.casts.filter(e=>e.ability.guid===i.b.SHOULDER_TACKLE.id).length}gcdsByFist(e){return this.gcdsInEachFist[e]}}class ve extends b.c{constructor(){super(...arguments),this.history=[]}init(){this.addHook("cast",{by:"player"},this.onCast),this.addHook("removebuff",{by:"player",abilityId:h.b.RIDDLE_OF_FIRE.id},this.onDrop),this.addHook("complete",this.onComplete)}onCast(e){const t=Object(S.a)(i.b,"id",e.ability.guid);if(t){if(t.id===i.b.RIDDLE_OF_FIRE.id)return this.riddle=new Se(e.timestamp),this.riddle.active=!0,void(this.riddle.rushing=ye>=this.parser.fight.end_time-e.timestamp);if(this.riddle&&this.riddle.active&&(this.riddle.casts.push(e),t.onGcd)){const e=this.fists.getActiveFist();this.riddle.gcdsInEachFist[e.id]++}}}onDrop(e){this.stopAndSave(e.timestamp)}onComplete(){this.riddle&&this.riddle.active&&this.stopAndSave();const e=this.history.filter(e=>!e.rushing),t=e.length*fe-e.reduce((e,t)=>e+t.gcds,0),s=e.length-e.reduce((e,t)=>e+t.elixirFields,0),n=e.filter(e=>1===e.tackles).length,a=s+e.filter(e=>0===e.tackles).length;this.suggestions.add(new m.c({icon:i.b.RIDDLE_OF_FIRE.icon,content:d.a.createElement(o.Trans,{id:"mnk.rof.suggestions.gcd.content",values:{0:fe-2,EXPECTED_GCDS:fe},components:[d.a.createElement(l.d,Oe({},h.b.RIDDLE_OF_FIRE))]}),tiers:Te,value:t,why:d.a.createElement(o.Trans,{id:"mnk.rof.suggestions.gcd.why",values:{droppedGcds:t},components:[d.a.createElement(l.d,Oe({},h.b.RIDDLE_OF_FIRE))]})})),this.suggestions.add(new m.c({icon:i.b.ELIXIR_FIELD.icon,content:d.a.createElement(o.Trans,{id:"mnk.rof.suggestions.ogcd.content",components:[d.a.createElement(l.a,Oe({},i.b.ELIXIR_FIELD)),d.a.createElement(l.a,Oe({},i.b.SHOULDER_TACKLE)),d.a.createElement(l.d,Oe({},h.b.RIDDLE_OF_FIRE))]}),tiers:Te,value:a,why:d.a.createElement(o.Trans,{id:"mnk.rof.suggestions.ogcd.why",values:{droppedExpectedOgcds:a},components:[d.a.createElement(l.d,Oe({},h.b.RIDDLE_OF_FIRE))]})})),this.suggestions.add(new m.c({icon:i.b.SHOULDER_TACKLE.icon,content:d.a.createElement(o.Trans,{id:"mnk.rof.suggestions.tackle.content",components:[d.a.createElement(l.a,Oe({},i.b.SHOULDER_TACKLE)),d.a.createElement(l.d,Oe({},h.b.RIDDLE_OF_FIRE))]}),tiers:{1:m.a.MINOR},value:n,why:d.a.createElement(o.Trans,{id:"mnk.rof.suggestions.tackle.why",values:{riddlesWithOneTackle:n},components:[d.a.createElement(l.d,Oe({},h.b.RIDDLE_OF_FIRE)),d.a.createElement(l.a,Oe({},i.b.SHOULDER_TACKLE))]})}))}stopAndSave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parser.currentTimestamp;if(this.riddle&&this.riddle.active){const t=this.riddle.gcdsByFist(X)+this.riddle.gcdsByFist(h.b.FISTS_OF_EARTH.id)+this.riddle.gcdsByFist(h.b.FISTS_OF_FIRE.id);t>0&&(this.riddle.expectedGcds=fe-Math.min(2,t)),this.riddle.active=!1,this.riddle.end=e,this.history.push(this.riddle)}}output(){return d.a.createElement(ue.a,{targets:[{header:d.a.createElement(o.Trans,{id:"mnk.rof.table.header.gcds"}),accessor:"gcds"},{header:d.a.createElement(l.a,Oe({showName:!1},i.b.ELIXIR_FIELD)),accessor:"elixirField"},{header:d.a.createElement(l.a,Oe({showName:!1},i.b.SHOULDER_TACKLE)),accessor:"shoulderTackle"}],data:this.history.map(e=>({start:e.start-this.parser.fight.start_time,end:null!=e.end?e.end-this.parser.fight.start_time:e.start-this.parser.fight.start_time,targetsData:{gcds:{actual:e.gcds,expected:e.expectedGcds},elixirField:{actual:e.elixirFields,expected:_e},shoulderTackle:{actual:e.tackles,expected:Ie}},rotation:e.casts})),onGoto:this.timeline.show})}}ve.handle="riddleoffire",ve.title={id:"mnk.rof.title",defaults:"Riddle of Fire"},ve.displayOrder=g.RIDDLE_OF_FIRE,Object(r.b)([b.d,Object(r.d)("design:type",Z)],ve.prototype,"fists",void 0),Object(r.b)([b.d,Object(r.d)("design:type",m.d)],ve.prototype,"suggestions",void 0),Object(r.b)([b.d,Object(r.d)("design:type",me.d)],ve.prototype,"timeline",void 0);var Fe=s(375);const Re=5;class De extends Fe.a{getJobAdditionalSpeedbuffScalar(e){return(100-this.gauge.getStacksAt(e.timestamp)*Re)/100}}Object(r.b)([b.d,Object(r.d)("design:type",B)],De.prototype,"gauge",void 0);var we=s(381);function ke(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ae(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(s),!0).forEach((function(t){je(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ke(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function je(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ne=300,Ce={1:m.a.MEDIUM,3:m.a.MAJOR},Pe={1:m.a.MEDIUM,4:m.a.MAJOR};class He{constructor(e,t,s){this.crit=e,this.weak=t,this.timestamp=s}}class Me extends b.c{constructor(){super(...arguments),this.steppies=[]}init(){this.addHook("init",()=>{this.addHook(this.fflogsEvents.damageEventName,{by:"player",abilityId:i.b.BOOTSHINE.id},this.onDamage)}),this.addHook("complete",this.onComplete)}onDamage(e){const t=new He(e.criticalHit,this.combatants.selected.hasStatus(h.b.LEADEN_FIST.id),e.timestamp);this.steppies.push(t)}onComplete(){this.checklist.add(new p.b({name:d.a.createElement(o.Trans,{id:"mnk.steppies.checklist.name"}),description:d.a.createElement(o.Trans,{id:"mnk.steppies.checklist.description",components:[d.a.createElement(l.a,Ae({},i.b.BOOTSHINE)),d.a.createElement(l.a,Ae({},i.b.DRAGON_KICK))]}),displayOrder:g.DRAGON_KICK,requirements:[new p.a({name:d.a.createElement(o.Trans,{id:"mnk.steppies.checklist.requirement.name",components:[d.a.createElement(l.d,Ae({},h.b.LEADEN_FIST))]}),percent:()=>this.getLeadenPercent(this.steppies)})],target:100})),this.suggestions.add(new m.c({icon:i.b.DRAGON_KICK.icon,content:d.a.createElement(o.Trans,{id:"mnk.steppies.suggestions.dragon_kick.content",components:[d.a.createElement(l.a,Ae({},i.b.BOOTSHINE)),d.a.createElement(l.a,Ae({},i.b.DRAGON_KICK))]}),why:d.a.createElement(o.Trans,{id:"mnk.steppies.suggestions.dragon_kick.why",values:{0:this.getUnbuffedCount(this.steppies)*(Ne-i.b.BOOTSHINE.potency),1:this.getUnbuffedCount(this.steppies)},components:[d.a.createElement(l.d,Ae({},h.b.LEADEN_FIST))]}),tiers:Pe,value:this.getUnbuffedCount(this.steppies)})),this.suggestions.add(new m.c({icon:i.b.BOOTSHINE.icon,content:d.a.createElement(o.Trans,{id:"mnk.steppies.suggestions.bootshine.content",components:[d.a.createElement(l.a,Ae({},i.b.BOOTSHINE)),d.a.createElement(l.d,Ae({},h.b.OPO_OPO_FORM)),d.a.createElement(l.d,Ae({},h.b.LEADEN_FIST))]}),why:d.a.createElement(o.Trans,{id:"mnk.steppies.suggestions.bootshine.why",values:{0:this.getUncritCount(this.steppies)},components:[d.a.createElement(l.a,Ae({},i.b.BOOTSHINE))]}),tiers:Ce,value:this.getUncritCount(this.steppies)}))}getUnbuffedCount(e){return e.reduce((e,t)=>t.weak?e:e+1,0)}getUncritCount(e){return e.reduce((e,t)=>t.crit?e:e+1,0)}getLeadenPercent(e){return 100-this.getUnbuffedCount(e)/e.length*100}}Me.handle="steppies",Object(r.b)([b.d,Object(r.d)("design:type",p.e)],Me.prototype,"checklist",void 0),Object(r.b)([b.d,Object(r.d)("design:type",F.a)],Me.prototype,"combatants",void 0),Object(r.b)([b.d,Object(r.d)("design:type",we.a)],Me.prototype,"fflogsEvents",void 0),Object(r.b)([b.d,Object(r.d)("design:type",m.d)],Me.prototype,"suggestions",void 0);var Le=s(378),Ge=s(374);function Ue(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ke(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(s),!0).forEach((function(t){We(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ue(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function We(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Be=3e3,xe=5;class Je{constructor(e){this.casts=[],this.start=e}get gcds(){return this.casts.filter(e=>{const t=Object(S.a)(i.b,"id",e.ability.guid);return t&&t.onGcd}).length}}class Ye extends b.c{constructor(){super(...arguments),this.history=[],this.failedFury=0,this.earlySnakes=0,this.lateSnakes=0,this.gcdsSinceTS=0}init(){this.addHook("cast",{by:"player"},this.onCast),this.addHook("applybuff",{to:"player",abilityId:h.b.TWIN_SNAKES.id},this.onGain),this.addHook("refreshbuff",{to:"player",abilityId:h.b.TWIN_SNAKES.id},this.onRefresh),this.addHook("removebuff",{to:"player",abilityId:h.b.TWIN_SNAKES.id},this.onDrop),this.addHook("complete",this.onComplete)}onCast(e){const t=Object(S.a)(i.b,"id",e.ability.guid);if(t&&t.onGcd)switch(t.id){case i.b.TWIN_SNAKES.id:this.twinSnake&&!this.twinSnake.end&&this.gcdsSinceTS<xe&&this.earlySnakes++;case i.b.FORM_SHIFT:break;case i.b.FOUR_POINT_FURY.id:this.combatants.selected.hasStatus(h.b.TWIN_SNAKES.id)||this.failedFury++;default:this.twinSnake&&!this.twinSnake.end&&this.twinSnake.casts.push(e),this.gcdsSinceTS++}}onGain(e){if(this.twinSnake&&this.twinSnake.end){const t=this.gcdsSinceTS-this.twinSnake.gcds,s=e.timestamp-this.twinSnake.end;(t>1||s>Be)&&this.lateSnakes++}this.twinSnake=new Je(e.timestamp),this.gcdsSinceTS=0}onRefresh(){this.gcdsSinceTS=0}onDrop(e){this.stopAndSave(e.timestamp)}onComplete(){this.stopAndSave(this.parser.fight.end_time);const e=this.earlySnakes*(i.b.TRUE_STRIKE.potency-i.b.TWIN_SNAKES.potency);this.checklist.add(new p.b({name:d.a.createElement(o.Trans,{id:"mnk.twinsnakes.checklist.name"}),description:d.a.createElement(o.Trans,{id:"mnk.twinsnakes.checklist.description"}),displayOrder:g.TWIN_SNAKES,requirements:[new p.a({name:d.a.createElement(o.Trans,{id:"mnk.twinsnakes.checklist.requirement.name",components:[d.a.createElement(l.a,Ke({},i.b.TWIN_SNAKES))]}),percent:()=>this.getBuffUptimePercent(h.b.TWIN_SNAKES.id)})]})),this.suggestions.add(new m.c({icon:i.b.TWIN_SNAKES.icon,content:d.a.createElement(o.Trans,{id:"mnk.twinsnakes.suggestions.early.content",components:[d.a.createElement(l.a,Ke({},i.b.TWIN_SNAKES)),d.a.createElement(l.a,Ke({},i.b.TRUE_STRIKE))]}),tiers:{1:m.a.MEDIUM,4:m.a.MAJOR},value:this.earlySnakes,why:d.a.createElement(o.Trans,{id:"mnk.twinsnakes.suggestions.early.why",values:{0:this.earlySnakes,lostTruePotency:e}})})),this.suggestions.add(new m.c({icon:i.b.TWIN_SNAKES.icon,content:d.a.createElement(o.Trans,{id:"mnk.twinsnakes.suggestions.late.content",components:[d.a.createElement(l.a,Ke({},i.b.TWIN_SNAKES)),d.a.createElement(l.d,Ke({},h.b.GREASED_LIGHTNING))]}),tiers:{1:m.a.MEDIUM,4:m.a.MAJOR},value:this.lateSnakes,why:d.a.createElement(o.Trans,{id:"mnk.twinsnakes.suggestions.late.why",values:{0:this.lateSnakes}})})),this.suggestions.add(new m.c({icon:i.b.FOUR_POINT_FURY.icon,content:d.a.createElement(o.Trans,{id:"mnk.twinsnakes.suggestions.toocalm.content",components:[d.a.createElement(l.d,Ke({},h.b.TWIN_SNAKES)),d.a.createElement(l.a,Ke({},i.b.FOUR_POINT_FURY))]}),tiers:{1:m.a.MINOR,2:m.a.MEDIUM},value:this.failedFury,why:d.a.createElement(o.Trans,{id:"mnk.twinsnakes.suggestions.toocalm.why",values:{0:this.failedFury},components:[d.a.createElement(l.a,Ke({},i.b.FOUR_POINT_FURY)),d.a.createElement(l.d,Ke({},h.b.TWIN_SNAKES))]})}))}stopAndSave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parser.currentTimestamp;this.twinSnake&&(this.twinSnake.end=e,this.history.push(this.twinSnake))}getBuffUptimePercent(e){return this.combatants.getStatusUptime(e,this.parser.player.id)/(this.parser.fightDuration-this.invuln.getInvulnerableUptime())*100}}Ye.handle="twinsnakes",Object(r.b)([b.d,Object(r.d)("design:type",p.e)],Ye.prototype,"checklist",void 0),Object(r.b)([b.d,Object(r.d)("design:type",F.a)],Ye.prototype,"combatants",void 0),Object(r.b)([b.d,Object(r.d)("design:type",Le.a)],Ye.prototype,"enemies",void 0),Object(r.b)([b.d,Object(r.d)("design:type",Ge.a)],Ye.prototype,"invuln",void 0),Object(r.b)([b.d,Object(r.d)("design:type",m.d)],Ye.prototype,"suggestions",void 0);var Xe=s(1296);const qe=4;class ze extends Xe.a{isBadWeave(e){return e.leadingGcdEvent&&e.leadingGcdEvent.ability&&e.leadingGcdEvent.ability.guid===i.b.SIX_SIDED_STAR.id?e.weaves.length>qe:super.isBadWeave(e)}}t.default=[a,_,Z,M,B,ee,ie,ce,pe,ve,De,Me,Ye,ze]}}]);
//# sourceMappingURL=jobs-mnk.bdc2966c.js.map