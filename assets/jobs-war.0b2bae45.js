(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1291:function(e,t,r){"use strict";var n=r(0),s=r.n(n),i=r(38);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c={MORBID:0,MAJOR:1,MEDIUM:2,MINOR:3,IGNORE:void 0};class l{constructor(e){this.icon="",this.content="",this.why="",this.severity=c.MEDIUM,Object.keys(e||{}).forEach(t=>{this[t]=e[t]})}}class u extends l{constructor(e){super(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tiers:{},value:0,matcher:i.i},e))}get severity(){return this.matcher(this.tiers,this.value)}set severity(e){}}var d=r(2),p=r(10),b=r(26),g=r(1280),m=r(215),E=(r(131),r(1306)),h=r.n(E),O=r(29);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v={[c.MORBID]:{content:s.a.createElement(p.Trans,{id:"core.suggestions.severity.morbid"}),color:"black",icon:"times"},[c.MAJOR]:{content:s.a.createElement(p.Trans,{id:"core.suggestions.severity.major"}),color:"red",icon:"arrow up"},[c.MEDIUM]:{content:s.a.createElement(p.Trans,{id:"core.suggestions.severity.medium"}),color:"orange"},[c.MINOR]:{content:s.a.createElement(p.Trans,{id:"core.suggestions.severity.minor"}),color:"blue",icon:"arrow down"}};let _=class extends s.a.Component{constructor(){super(...arguments),this.onToggleShowMinor=(e,t)=>{const{settingsStore:r}=this.context;r.setShowMinorSuggestions(t.checked)}}render(){const e=this.context.settingsStore.showMinorSuggestions,t=this.props.suggestions.filter(t=>e||t.severity!==c.MINOR),r=this.props.suggestions.some(e=>e.severity===c.MINOR);return s.a.createElement(s.a.Fragment,null,r&&s.a.createElement(g.a,{toggle:!0,label:s.a.createElement("label",null,s.a.createElement(p.Trans,{id:"core.suggestion.show-minor"})),defaultChecked:e,onChange:this.onToggleShowMinor,className:h.a.checkbox}),s.a.createElement("div",{className:h.a.items},t.map((e,t)=>s.a.createElement("div",{key:t,className:h.a.item},s.a.createElement("img",{src:e.icon,alt:""}),s.a.createElement("div",null,e.content,s.a.createElement("div",{className:h.a.extra},s.a.createElement(m.a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({horizontal:!0},v[e.severity])),e.why)))),0===t.length&&s.a.createElement("div",{className:h.a.item},s.a.createElement("div",null,s.a.createElement("strong",null,s.a.createElement(p.Trans,{id:"core.suggestion.nothing"})),s.a.createElement("br",null),r&&s.a.createElement(p.Trans,{id:"core.suggestion.nothing-but-minor"})))))}};_.contextType=O.a,_=Object(d.b)([b.b],_);var w=_,j=r(22),S=r(220);class A extends j.c{constructor(){super(...arguments),this._suggestions=[]}add(e){e instanceof l?this._suggestions.push(e):console.error("TODO: Proper error message for passing a non-suggestion to the suggestion add handler")}output(){if(0===this._suggestions.length)return!1;const e=this._suggestions.filter(e=>e.severity!==c.IGNORE).sort((e,t)=>e.severity-t.severity);return s.a.createElement(w,{suggestions:e})}}A.handle="suggestions",A.displayOrder=S.a.SUGGESTIONS,A.displayMode=j.a.FULL,A.title={id:"core.suggestions.title",defaults:"Suggestions"},r.d(t,"d",(function(){return A})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return u}))},1292:function(e,t,r){"use strict";var n=r(0),s=r.n(n),i=r(1300),o=r(38),a=r(22);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u={SUCCESS:2,WARN:1,FAIL:void 0},d=95;class p{constructor(e){this.name="",this.description=null,this.requirements=[],this.target=d,this.displayOrder=a.b.DEFAULT,Object.keys(e||{}).forEach(t=>{this[t]=e[t]})}get tier(){return Object(o.i)({[this.target]:u.SUCCESS},this.percent)}get percent(){const e=this.requirements.map(e=>e.percent);return e.length?i.a.mean(e):0}}class b extends p{constructor(e){super(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tiers:{},matcher:o.i},e))}get tier(){return this.matcher(this.tiers,this.percent)}}var g=r(94),m=r(1279),E=r(1455),h=r(1311),O=r.n(h);const y={[u.SUCCESS]:{text:"text-success",color:"green",icon:"checkmark",autoExpand:!1},[u.WARN]:{text:"text-warning",color:"yellow",icon:"warning sign",autoExpand:!0},[u.FAIL]:{text:"text-error",color:"red",icon:"remove",autoExpand:!0}};class f extends n.Component{render(){const{rules:e}=this.props;if(!e.length)return!1;const t=[],r=e.map((e,r)=>{const n=y[e.tier];let i=e.percent;return i=Math.min(i,100),n.autoExpand&&t.push(r),{key:r,title:{className:O.a.title,content:s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{name:n.icon,className:n.text}),e.name,s.a.createElement("div",{className:O.a.percent+" "+n.text},i.toFixed(1),"%",s.a.createElement(m.a,{percent:i,className:O.a.progress,size:"small",color:n.color})))},content:{content:s.a.createElement(s.a.Fragment,null,e.description&&s.a.createElement("div",{className:O.a.description},s.a.createElement(g.a,{name:"info",size:"large"}),s.a.createElement("p",null,e.description)),s.a.createElement("ul",null,e.requirements.map((e,t)=>s.a.createElement("li",{key:t},e.name,": ",e.content))))}}});return s.a.createElement(E.a,{exclusive:!1,panels:r,defaultActiveIndex:t,styled:!0,fluid:!0})}}var v=f,_=r(220);class w extends a.c{constructor(){super(...arguments),this._rules=[]}add(e){e instanceof p?this._rules.push(e):console.error("TODO: This error message")}output(){const e=[...this._rules];return e.sort((e,t)=>e.displayOrder-t.displayOrder),s.a.createElement(v,{rules:e})}}w.handle="checklist",w.title={id:"core.checklist.title",defaults:"Checklist"},w.displayOrder=_.a.CHECKLIST,w.displayMode=a.a.FULL;class j{constructor(e){this.name="",this._percent=null,this.value=null,this.target=100,this.overrideDisplay=null,Object.keys(e||{}).forEach(t=>{this[t]=e[t]})}get content(){return null!==this.overrideDisplay?this.overrideDisplay:null!==this._percent||null===this.value?"".concat(this.percent.toFixed(2),"%"):"".concat(this.value.toFixed(0),"/").concat(this.target.toFixed(0))}get percent(){return null===this._percent?null===this.value?0:100*(("function"==typeof this.value?this.value():this.value)||0)/this.target:("function"==typeof this._percent?this._percent():this._percent)||0}set percent(e){this._percent=e}}r.d(t,"e",(function(){return w})),r.d(t,"b",(function(){return p})),r.d(t,"d",(function(){return b})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return j}))},1293:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(4),s=r.n(n),i=r(19),o=r(41),a=r(9),c=r(0),l=r.n(c),u=r(1305),d=r.n(u);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends c.Component{render(){const{events:e}=this.props;return l.a.createElement("div",{className:d.a.container},e.map((e,t)=>{const r=Object(o.a)(a.b,"id",e.ability.guid);if(!r||r.autoAttack)return;if(!r.icon)return console.error(e,"event ability has no icon"),!1;const n=[d.a.link,{[d.a.ogcd]:!r.onGcd}],c=r.onGcd?d.a.gcdSize:d.a.ogcdSize,u=r.id>=a.a?i.b:i.a;return l.a.createElement("div",{key:t,className:s()(...n)},l.a.createElement(u,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({showName:!1,iconSize:c},r)))}))}}},1300:function(e,t,r){"use strict";var n=r(1478),s=r(1458),i=r(1480),o=r(1477);t.a=Object(n.a)({meanDependencies:s.a,modeDependencies:i.a,stdDependencies:o.a})},1305:function(e,t,r){e.exports={gcdSize:"40px",ogcdSize:"30px",container:"Rotation-module_container__32KS2",link:"Rotation-module_link__2T3fu",ogcd:"Rotation-module_ogcd__3oBO8"}},1306:function(e,t,r){e.exports={gutter:"20px",checkbox:"Suggestions-module_checkbox__1Z22N",items:"Suggestions-module_items__3sCkP",item:"Suggestions-module_item__1yy1-",extra:"Suggestions-module_extra__3WN2d"}},1311:function(e,t,r){e.exports={lg:"(min-width: 992px)",title:"Checklist-module_title__2ro7x",percent:"Checklist-module_percent__EKBdj",progress:"Checklist-module_progress__28lgp",description:"Checklist-module_description__3Bf5O"}},1479:function(e,t,r){"use strict";r.r(t);var n=r(2),s=r(10),i=r(9),o=r(14),a=r(54),c=r(22),l=r(221),u=r(1295),d=r(1337),p=r(1291),b=r(0),g=r.n(b);const m=new Map([[i.b.MAIM.id,{combo:10}],[i.b.STORMS_EYE.id,{combo:10}],[i.b.STORMS_PATH.id,{combo:20}],[i.b.MYTHRIL_TEMPEST.id,{combo:20}],[i.b.INFURIATE.id,{cast:50}],[i.b.FELL_CLEAVE.id,{cast:-50}],[i.b.DECIMATE.id,{cast:-50}],[i.b.UPHEAVAL.id,{cast:-20}],[i.b.ONSLAUGHT.id,{cast:-20}],[i.b.CHAOTIC_CYCLONE.id,{cast:-50}],[i.b.INNER_CHAOS.id,{cast:-50}]]),E={20:p.a.MINOR,50:p.a.MAJOR},h=[i.b.FELL_CLEAVE.id,i.b.DECIMATE.id,i.b.CHAOTIC_CYCLONE.id,i.b.INNER_CHAOS.id],O=5;class y extends d.b{constructor(){super(...arguments),this.beastGauge=this.add(new d.a({chart:{label:"Beast Gauge",color:o.b.WARRIOR.colour}}))}init(){super.init(),this.addHook(["combo","cast"],{by:"player",abilityId:Array.from(m.keys())},this.onGaugeModifier),this.addHook("cast",{by:"player",abilityId:h},()=>this.cooldowns.reduceCooldown(i.b.INFURIATE.id,O)),this.addHook("complete",this.onComplete)}onGaugeModifier(e){let t=(m.get(e.ability.guid)||{})[e.type]||0;this.combatants.selected.hasStatus(a.b.INNER_RELEASE.id)&&(t=Math.max(t,0)),this.beastGauge.modify(t)}onComplete(){const{overCap:e}=this.beastGauge;this.suggestions.add(new p.c({icon:i.b.INFURIATE.icon,content:g.a.createElement(s.Trans,{id:"war.gauge.suggestions.lost-rage.content"}),why:g.a.createElement(s.Trans,{id:"war.gauge.suggestions.lost-rage.why",values:{overCap:e}}),tiers:E,value:e}))}}y.title={id:"war.gauge.title",defaults:"Gauge Usage"},Object(n.b)([c.d,Object(n.d)("design:type",l.a)],y.prototype,"combatants",void 0),Object(n.b)([c.d,Object(n.d)("design:type",u.a)],y.prototype,"cooldowns",void 0),Object(n.b)([c.d,Object(n.d)("design:type",p.d)],y.prototype,"suggestions",void 0);var f=r(19),v=r(1308);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class S extends v.a{constructor(){super(...arguments),this.buffAction=i.b.INNER_RELEASE,this.buffStatus=a.b.INNER_RELEASE,this.expectedGCDs={expectedPerWindow:5,suggestionContent:g.a.createElement(s.Trans,{id:"war.ir.suggestions.missedgcd.content",components:[g.a.createElement(f.a,w({},i.b.INNER_RELEASE))]}),severityTiers:{1:p.a.MAJOR}},this.requiredGCDs={icon:i.b.FELL_CLEAVE.icon,actions:[i.b.FELL_CLEAVE,i.b.DECIMATE],suggestionContent:g.a.createElement(s.Trans,{id:"war.ir.suggestions.badgcd.content",components:[g.a.createElement(f.a,w({},i.b.INNER_RELEASE)),g.a.createElement(f.a,w({},i.b.FELL_CLEAVE)),g.a.createElement(f.a,w({},i.b.DECIMATE))]}),severityTiers:{1:p.a.MAJOR}},this.trackedActions={icon:i.b.UPHEAVAL.icon,actions:[{action:i.b.UPHEAVAL,expectedPerWindow:1},{action:i.b.ONSLAUGHT,expectedPerWindow:1}],suggestionContent:g.a.createElement(s.Trans,{id:"war.ir.suggestions.trackedActions.content",components:[g.a.createElement(f.a,w({},i.b.UPHEAVAL)),g.a.createElement(f.a,w({},i.b.ONSLAUGHT)),g.a.createElement(f.a,w({},i.b.INNER_RELEASE))]}),severityTiers:{1:p.a.MEDIUM}},this.trackedBadActions={icon:i.b.INNER_CHAOS.icon,actions:[{action:i.b.INNER_CHAOS,expectedPerWindow:0},{action:i.b.CHAOTIC_CYCLONE,expectedPerWindow:0}],suggestionContent:g.a.createElement(s.Trans,{id:"war.ir.suggestions.trackedBadActions.content",components:[g.a.createElement(f.a,w({},i.b.INNER_CHAOS)),g.a.createElement(f.a,w({},i.b.CHAOTIC_CYCLONE)),g.a.createElement(f.a,w({},i.b.INNER_RELEASE)),g.a.createElement(f.a,w({showIcon:!1},i.b.INNER_RELEASE))]}),severityTiers:{1:p.a.MAJOR}}}}S.handle="ir",S.title={id:"war.ir.title",defaults:"Inner Release Usage"};var A=r(1292);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const R=3e4,T=7e3;class C extends c.c{constructor(){super(...arguments),this._stormsEyeUses=[],this._earlyApplications=0;const e={by:"player",abilityId:a.b.STORMS_EYE.id};this.addHook("applybuff",e,this._onStormsEyeApplication),this.addHook("refreshbuff",e,this._onStormsEyeApplication),this.addHook("complete",this._onComplete)}_onStormsEyeApplication(e){if(this._stormsEyeUses.unshift(e),this._stormsEyeUses.length<2)return;this._stormsEyeUses[0].timestamp-this._stormsEyeUses[1].timestamp<R-T&&this._earlyApplications++}_onComplete(){this.checklist.add(new A.b({name:g.a.createElement(s.Trans,{id:"war.stormseye.checklist.name"}),description:g.a.createElement(s.Trans,{id:"war.stormseye.checklist.description"}),target:90,requirements:[new A.a({name:g.a.createElement(s.Trans,{id:"war.stormseye.checklist.uptime",components:[g.a.createElement(f.a,N({},i.b.STORMS_EYE))]}),percent:()=>this.getUptimePercent()})]})),this._earlyApplications&&this.suggestions.add(new p.b({icon:i.b.STORMS_EYE.icon,content:g.a.createElement(s.Trans,{id:"war.suggestions.stormseye.content",values:{0:i.b.STORMS_EYE.name},components:[g.a.createElement(f.a,N({},i.b.STORMS_PATH))]}),severity:p.a.MEDIUM,why:g.a.createElement(s.Trans,{id:"war.suggestions.stormseye.why",values:{0:this._earlyApplications,1:T/1e3}})}))}getUptimePercent(){return this.combatants.getStatusUptime(a.b.STORMS_EYE.id,this.parser.player.id)/(this.parser.fightDuration-this.invuln.getInvulnerableUptime())*100}}C.handle="stormseye",C.dependencies=["checklist","combatants","invuln","suggestions"];class L extends u.a{}L.cooldownOrder=[i.b.DEFIANCE.id,i.b.INNER_RELEASE.id,i.b.INFURIATE.id,i.b.UPHEAVAL.id,i.b.ONSLAUGHT.id,i.b.HOLMGANG.id,i.b.VENGEANCE.id,i.b.RAMPART.id,i.b.THRILL_OF_BATTLE.id,i.b.RAW_INTUITION.id,i.b.EQUILIBRIUM.id,i.b.SHAKE_IT_OFF.id,i.b.REPRISAL.id,i.b.PROVOKE.id,i.b.SHIRK.id,i.b.INTERJECT.id,i.b.LOW_BLOW.id];t.default=[y,S,C,L]}}]);
//# sourceMappingURL=jobs-war.0b2bae45.js.map